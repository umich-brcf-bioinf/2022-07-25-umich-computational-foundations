<!DOCTYPE html>

<html>

<head>

<meta charset="utf-8" />
<meta name="generator" content="pandoc" />
<meta http-equiv="X-UA-Compatible" content="IE=EDGE" />




<title>R Basics Continued</title>

<script src="site_libs/header-attrs-2.14/header-attrs.js"></script>
<script src="site_libs/jquery-3.6.0/jquery-3.6.0.min.js"></script>
<meta name="viewport" content="width=device-width, initial-scale=1" />
<link href="site_libs/bootstrap-3.3.5/css/paper.min.css" rel="stylesheet" />
<script src="site_libs/bootstrap-3.3.5/js/bootstrap.min.js"></script>
<script src="site_libs/bootstrap-3.3.5/shim/html5shiv.min.js"></script>
<script src="site_libs/bootstrap-3.3.5/shim/respond.min.js"></script>
<style>h1 {font-size: 34px;}
       h1.title {font-size: 38px;}
       h2 {font-size: 30px;}
       h3 {font-size: 24px;}
       h4 {font-size: 18px;}
       h5 {font-size: 16px;}
       h6 {font-size: 12px;}
       code {color: inherit; background-color: rgba(0, 0, 0, 0.04);}
       pre:not([class]) { background-color: white }</style>
<script src="site_libs/navigation-1.1/tabsets.js"></script>
<link href="site_libs/highlightjs-9.12.0/default.css" rel="stylesheet" />
<script src="site_libs/highlightjs-9.12.0/highlight.js"></script>
<link rel="shortcut icon" href="favicon-16x16.png" />
<!--
Favicon from
https://twemoji.twitter.com/
https://favicon.io/emoji-favicons/computer/
-->

<style type="text/css">
  code{white-space: pre-wrap;}
  span.smallcaps{font-variant: small-caps;}
  span.underline{text-decoration: underline;}
  div.column{display: inline-block; vertical-align: top; width: 50%;}
  div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
  ul.task-list{list-style: none;}
    </style>

<style type="text/css">code{white-space: pre;}</style>
<script type="text/javascript">
if (window.hljs) {
  hljs.configure({languages: []});
  hljs.initHighlightingOnLoad();
  if (document.readyState && document.readyState === "complete") {
    window.setTimeout(function() { hljs.initHighlighting(); }, 0);
  }
}
</script>









<style type = "text/css">
.main-container {
  max-width: 940px;
  margin-left: auto;
  margin-right: auto;
}
img {
  max-width:100%;
}
.tabbed-pane {
  padding-top: 12px;
}
.html-widget {
  margin-bottom: 20px;
}
button.code-folding-btn:focus {
  outline: none;
}
summary {
  display: list-item;
}
details > summary > p:only-child {
  display: inline;
}
pre code {
  padding: 0;
}
</style>


<style type="text/css">
.dropdown-submenu {
  position: relative;
}
.dropdown-submenu>.dropdown-menu {
  top: 0;
  left: 100%;
  margin-top: -6px;
  margin-left: -1px;
  border-radius: 0 6px 6px 6px;
}
.dropdown-submenu:hover>.dropdown-menu {
  display: block;
}
.dropdown-submenu>a:after {
  display: block;
  content: " ";
  float: right;
  width: 0;
  height: 0;
  border-color: transparent;
  border-style: solid;
  border-width: 5px 0 5px 5px;
  border-left-color: #cccccc;
  margin-top: 5px;
  margin-right: -10px;
}
.dropdown-submenu:hover>a:after {
  border-left-color: #adb5bd;
}
.dropdown-submenu.pull-left {
  float: none;
}
.dropdown-submenu.pull-left>.dropdown-menu {
  left: -100%;
  margin-left: 10px;
  border-radius: 6px 0 6px 6px;
}
</style>

<script type="text/javascript">
// manage active state of menu based on current page
$(document).ready(function () {
  // active menu anchor
  href = window.location.pathname
  href = href.substr(href.lastIndexOf('/') + 1)
  if (href === "")
    href = "index.html";
  var menuAnchor = $('a[href="' + href + '"]');

  // mark it active
  menuAnchor.tab('show');

  // if it's got a parent navbar menu mark it active as well
  menuAnchor.closest('li.dropdown').addClass('active');

  // Navbar adjustments
  var navHeight = $(".navbar").first().height() + 15;
  var style = document.createElement('style');
  var pt = "padding-top: " + navHeight + "px; ";
  var mt = "margin-top: -" + navHeight + "px; ";
  var css = "";
  // offset scroll position for anchor links (for fixed navbar)
  for (var i = 1; i <= 6; i++) {
    css += ".section h" + i + "{ " + pt + mt + "}\n";
  }
  style.innerHTML = "body {" + pt + "padding-bottom: 40px; }\n" + css;
  document.head.appendChild(style);
});
</script>

<!-- tabsets -->

<style type="text/css">
.tabset-dropdown > .nav-tabs {
  display: inline-table;
  max-height: 500px;
  min-height: 44px;
  overflow-y: auto;
  border: 1px solid #ddd;
  border-radius: 4px;
}

.tabset-dropdown > .nav-tabs > li.active:before {
  content: "";
  font-family: 'Glyphicons Halflings';
  display: inline-block;
  padding: 10px;
  border-right: 1px solid #ddd;
}

.tabset-dropdown > .nav-tabs.nav-tabs-open > li.active:before {
  content: "&#xe258;";
  border: none;
}

.tabset-dropdown > .nav-tabs.nav-tabs-open:before {
  content: "";
  font-family: 'Glyphicons Halflings';
  display: inline-block;
  padding: 10px;
  border-right: 1px solid #ddd;
}

.tabset-dropdown > .nav-tabs > li.active {
  display: block;
}

.tabset-dropdown > .nav-tabs > li > a,
.tabset-dropdown > .nav-tabs > li > a:focus,
.tabset-dropdown > .nav-tabs > li > a:hover {
  border: none;
  display: inline-block;
  border-radius: 4px;
  background-color: transparent;
}

.tabset-dropdown > .nav-tabs.nav-tabs-open > li {
  display: block;
  float: none;
}

.tabset-dropdown > .nav-tabs > li {
  display: none;
}
</style>

<!-- code folding -->




</head>

<body>


<div class="container-fluid main-container">




<div class="navbar navbar-inverse  navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-bs-toggle="collapse" data-target="#navbar" data-bs-target="#navbar">
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <a class="navbar-brand" href="index.html">Computational Foundations</a>
    </div>
    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
        <li>
  <a href="Module00_Introduction.html">Intro</a>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" data-bs-toggle="dropdown" aria-expanded="false">
    Bash Shell
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu">
    <li>
      <a href="bash-01-introduction.html">Introducing the Shell</a>
    </li>
    <li>
      <a href="bash-02-the-filesystem.html">Navigating Files and Directories</a>
    </li>
    <li>
      <a href="bash-03-working-with-files.html">Working with Files</a>
    </li>
    <li>
      <a href="bash-04-redirection.html">Redirection</a>
    </li>
    <li>
      <a href="bash-05-writing-scripts.html">Writing Scripts and Working with Data</a>
    </li>
    <li>
      <a href="bash-06-organization.html">Project Organization</a>
    </li>
  </ul>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" data-bs-toggle="dropdown" aria-expanded="false">
    R and RStudio
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu">
    <li>
      <a href="r-01-introduction.html">Introducing R and RStudio IDE</a>
    </li>
    <li>
      <a href="r-02-r-basics.html">R Basics</a>
    </li>
    <li>
      <a href="r-03-basics-continued.html">R Basics Continued</a>
    </li>
    <li>
      <a href="r-04-bioconductor.html">Using Packages from Bioconductor</a>
    </li>
    <li>
      <a href="r-05-dplyr.html">Data Wrangling and Analyses with Tidyverse</a>
    </li>
    <li>
      <a href="r-06-data-visualization.html">Data Visualizations with ggplot2</a>
    </li>
    <li>
      <a href="r-07-r-help.html">Getting Help with R</a>
    </li>
  </ul>
</li>
<li>
  <a href="Module99_Wrap_up.html">Wrap up</a>
</li>
      </ul>
      <ul class="nav navbar-nav navbar-right">
        
      </ul>
    </div><!--/.nav-collapse -->
  </div><!--/.container -->
</div><!--/.navbar -->

<div id="header">



<h1 class="title toc-ignore">R Basics Continued</h1>

</div>

<div id="TOC">
<ul>
<li><a href="#overview">Overview</a></li>
<li><a href="#accessing-and-subsetting-objects">Accessing and subsetting
objects</a>
<ul>
<li><a href="#atomic-vectors">Atomic vectors</a></li>
<li><a href="#lists">Lists</a></li>
<li><a href="#matrices">Matrices</a></li>
<li><a href="#data-frames">Data Frames</a></li>
</ul></li>
<li><a href="#summary">Summary</a></li>
</ul>
</div>

<style type="text/css">

body, td {
   font-size: 18px;
}
code.r{
  font-size: 12px;
}
pre {
  font-size: 12px
}

</style>
<!--
---
title: "R Basics continued - factors and data frames"
teaching: 60
exercises: 30
questions:
- "How do I get started with tabular data (e.g. spreadsheets) in R?"
- "What are some best practices for reading data into R?"
- "How do I save tabular data generated in R?"
objectives:
- "Explain the basic principle of tidy datasets"
- "Be able to load a tabular dataset using base R functions"
- "Be able to determine the structure of a data frame including its dimensions and the datatypes of variables"
- "Be able to subset/retrieve values from a data frame"
- "Understand how R may coerce data into different modes"
- "Be able to change the mode of an object"
- "Understand that R uses factors to store and manipulate categorical data"
- "Be able to manipulate a factor, including subsetting and reordering"
- "Be able to apply an arithmetic function to a data frame"
- "Be able to coerce the class of an object (including variables in a data frame)"
- "Be able to import data from Excel"
- "Be able to save a data frame as a delimited file"
keypoints:
- "It is easy to import data into R from tabular formats including Excel. However, you still need to check that R has imported and interpreted your data correctly"
- "There are best practices for organizing your data (keeping it tidy) and R is great for this"
- "Base R has many useful functions for manipulating your data, but all of R's capabilities are greatly enhanced by software packages developed by the community"
source: Rmd
---
-->
<div id="overview" class="section level1">
<h1>Overview</h1>
<p>In this lesson we will learn how to access, subset, and otherwise
operate on the contents of the objects we encountered in the previous
lesson.</p>
</div>
<div id="accessing-and-subsetting-objects" class="section level1">
<h1>Accessing and subsetting objects</h1>
<p>In the last lesson we created the following objects:</p>
<pre class="r"><code>countries</code></pre>
<pre><code>[1] &quot;Thailand&quot; &quot;Lesotho&quot;  &quot;Suriname&quot; &quot;Canada&quot;  </code></pre>
<pre class="r"><code>country_populations</code></pre>
<pre><code>Thailand  Lesotho Suriname   Canada 
69950850  2108328   575990 38436447 </code></pre>
<pre class="r"><code>continents</code></pre>
<pre><code>[1] &quot;Asia&quot;          &quot;Africa&quot;        &quot;South America&quot; &quot;North America&quot;</code></pre>
<pre class="r"><code>continents_factor</code></pre>
<pre><code>[1] Asia          Africa        South America North America
Levels: South America Asia Africa North America</code></pre>
<pre class="r"><code>keep_data</code></pre>
<pre><code>[1]  TRUE  TRUE FALSE  TRUE</code></pre>
<pre class="r"><code>country_list</code></pre>
<pre><code>$countries
[1] &quot;Thailand&quot; &quot;Lesotho&quot;  &quot;Suriname&quot; &quot;Canada&quot;  

$continents
[1] &quot;Asia&quot;          &quot;Africa&quot;        &quot;South America&quot; &quot;North America&quot;

$populations
Thailand  Lesotho Suriname   Canada 
69950850  2108328   575990 38436447 </code></pre>
<pre class="r"><code>country_matrix</code></pre>
<pre><code>     [,1]       [,2]      
[1,] &quot;Thailand&quot; &quot;Suriname&quot;
[2,] &quot;Lesotho&quot;  &quot;Canada&quot;  </code></pre>
<pre class="r"><code>country_df</code></pre>
<pre><code>         countries    continents populations
Thailand  Thailand          Asia    69950850
Lesotho    Lesotho        Africa     2108328
Suriname  Suriname South America      575990
Canada      Canada North America    38436447</code></pre>
<p>But how do we access the individual elements of these objects?
Depending on the type, the method of access may be different, and for
the same type, there can be alternative methods of access. As always,
the best way to see this is with some examples.</p>
<div id="atomic-vectors" class="section level2">
<h2>Atomic vectors</h2>
<p>Atomic vectors have a notion of length, and are indexed starting from
1. Some languages index positions starting from 0 (Python, for example),
but R starts from 1. We can see the length of an atomic vector with the
<code>length()</code> function:</p>
<pre class="r"><code>length(countries)</code></pre>
<pre><code>[1] 4</code></pre>
<p>To access an element, or elements, of an atomic vector, we use
single-bracket notation, as in:</p>
<pre class="r"><code>countries[1]</code></pre>
<pre><code>[1] &quot;Thailand&quot;</code></pre>
<pre class="r"><code>countries[3]</code></pre>
<pre><code>[1] &quot;Suriname&quot;</code></pre>
<pre class="r"><code>country_populations[2]</code></pre>
<pre><code>Lesotho 
2108328 </code></pre>
<pre class="r"><code>continents[4]</code></pre>
<pre><code>[1] &quot;North America&quot;</code></pre>
<p>We can also subset atomic vectors by passing a vector of indices
within the square brackets, as in:</p>
<pre class="r"><code># Extract indices 1 through 3
countries[1:3]</code></pre>
<pre><code>[1] &quot;Thailand&quot; &quot;Lesotho&quot;  &quot;Suriname&quot;</code></pre>
<pre class="r"><code># Extract indices 1, 3, and 4
country_populations[c(1,3,4)]</code></pre>
<pre><code>Thailand Suriname   Canada 
69950850   575990 38436447 </code></pre>
<p>A <code>logical</code> vector can also be passed into the square
brackets, so long as it has the same length as the vector we are
subsetting. Recall our logical vector has the values:</p>
<pre class="r"><code>keep_data</code></pre>
<pre><code>[1]  TRUE  TRUE FALSE  TRUE</code></pre>
<p>What do we think will happen if we put this in the square brackets of
the <code>countries</code> vector?</p>
<pre class="r"><code>countries[keep_data]</code></pre>
<pre><code>[1] &quot;Thailand&quot; &quot;Lesotho&quot;  &quot;Canada&quot;  </code></pre>
<p>R interprets the <code>TRUE</code> values in the logical vector as
indices to keep, and <code>FALSE</code> as indices to drop. So Suriname,
the third element of <code>countries</code> is not displayed. Using
logical vectors to subset data is often a powerful way to
programatically subset data, as we will see in future lessons.</p>
</div>
<div id="lists" class="section level2">
<h2>Lists</h2>
<p>Accessing elements in lists is a little more complex in that the
method used determines whether a subsetted list or an atomic vector is
returned. Let’s investigate what happens with some examples. Just as the
atomic vector <code>countries</code> had a length, so does
<code>country_list</code>:</p>
<pre class="r"><code>country_list</code></pre>
<pre><code>$countries
[1] &quot;Thailand&quot; &quot;Lesotho&quot;  &quot;Suriname&quot; &quot;Canada&quot;  

$continents
[1] &quot;Asia&quot;          &quot;Africa&quot;        &quot;South America&quot; &quot;North America&quot;

$populations
Thailand  Lesotho Suriname   Canada 
69950850  2108328   575990 38436447 </code></pre>
<pre class="r"><code>length(country_list)</code></pre>
<pre><code>[1] 3</code></pre>
<p>To access the first element of <code>country_list</code> and
<strong>return a list</strong>, we would use the single-bracket
notation:</p>
<pre class="r"><code>country_list[1]</code></pre>
<pre><code>$countries
[1] &quot;Thailand&quot; &quot;Lesotho&quot;  &quot;Suriname&quot; &quot;Canada&quot;  </code></pre>
<pre class="r"><code>typeof(country_list[1])</code></pre>
<pre><code>[1] &quot;list&quot;</code></pre>
<p>If we wanted to access the first element and <strong>return an atomic
vector</strong>, we would use double-bracket notation:</p>
<pre class="r"><code>country_list[[1]]</code></pre>
<pre><code>[1] &quot;Thailand&quot; &quot;Lesotho&quot;  &quot;Suriname&quot; &quot;Canada&quot;  </code></pre>
<pre class="r"><code>typeof(country_list[[1]])</code></pre>
<pre><code>[1] &quot;character&quot;</code></pre>
<p>Right now, appreciating this subtlety is not crucial. However, you
may discover in your future experience that you wish to operate on the
elements of lists. Then returning the correct type via the correct mode
of access will be important. To see this with a quick example, say we
wanted to divide all the populations by one million. We would first need
to access the <code>population</code> element of
<code>country_list</code>, but which mode of access should we use? Let’s
try both, specifying the named <code>population</code> element instead
of it’s numerical index:</p>
<pre class="r"><code># Double-bracket notation returns an atomic vector
country_list[[&#39;populations&#39;]] / 1000000</code></pre>
<pre><code> Thailand   Lesotho  Suriname    Canada 
69.950850  2.108328  0.575990 38.436447 </code></pre>
<pre class="r"><code># Single-bracket notation returns a list
country_list[&#39;populations&#39;] / 1000000</code></pre>
<pre><code>Error in country_list[&quot;populations&quot;]/1e+06: non-numeric argument to binary operator</code></pre>
<p>In the first case, R understands how to divide numbers by a number;
the double-bracket subsetting returns a vector of numbers. In the second
case, R doesn’t know how to divide a list by a number, and so it throws
an error.</p>
<p>There is another way to access elements of a list by name, and that
is with dollar-sign notation. This method will <strong>only return the
atomic vector</strong>.</p>
<pre class="r"><code># Dollar-sign notation always returns an atomic vector
country_list$countries</code></pre>
<pre><code>[1] &quot;Thailand&quot; &quot;Lesotho&quot;  &quot;Suriname&quot; &quot;Canada&quot;  </code></pre>
<p>We may need to access individual elements within the elements of
lists. For example the following four commands all return the first
country in the <code>countries</code> element of
<code>country_list</code>, Thailand:</p>
<pre class="r"><code># Access with numerical indices
country_list[[1]][1]</code></pre>
<pre><code>[1] &quot;Thailand&quot;</code></pre>
<pre class="r"><code># Access with mixture of named and numerical indices
country_list[[&#39;countries&#39;]][1]</code></pre>
<pre><code>[1] &quot;Thailand&quot;</code></pre>
<pre class="r"><code># Access with mixture of named and numerical indices and all double-bracket notation
country_list[[&#39;countries&#39;]][[1]]</code></pre>
<pre><code>[1] &quot;Thailand&quot;</code></pre>
<pre class="r"><code># Access with mixture of dollar-sign named index and numerical index
country_list$countries[1]</code></pre>
<pre><code>[1] &quot;Thailand&quot;</code></pre>
<p>If we want to access multiple elements of a list, we use
single-bracket notation, as in:</p>
<pre class="r"><code># Access multiple list entries by index
country_list[1:2]</code></pre>
<pre><code>$countries
[1] &quot;Thailand&quot; &quot;Lesotho&quot;  &quot;Suriname&quot; &quot;Canada&quot;  

$continents
[1] &quot;Asia&quot;          &quot;Africa&quot;        &quot;South America&quot; &quot;North America&quot;</code></pre>
<pre class="r"><code># Access multiple list entries by their names, if they exist
country_list[c(&#39;countries&#39;,&#39;continents&#39;)]</code></pre>
<pre><code>$countries
[1] &quot;Thailand&quot; &quot;Lesotho&quot;  &quot;Suriname&quot; &quot;Canada&quot;  

$continents
[1] &quot;Asia&quot;          &quot;Africa&quot;        &quot;South America&quot; &quot;North America&quot;</code></pre>
<pre class="r"><code># Access multiple list entries with a logical vector
country_list[c(TRUE, FALSE, TRUE)]</code></pre>
<pre><code>$countries
[1] &quot;Thailand&quot; &quot;Lesotho&quot;  &quot;Suriname&quot; &quot;Canada&quot;  

$populations
Thailand  Lesotho Suriname   Canada 
69950850  2108328   575990 38436447 </code></pre>
<p>It is illustrative to try the above commands using double-bracket
notation:</p>
<pre class="r"><code>country_list[[1:2]]</code></pre>
<pre><code>[1] &quot;Lesotho&quot;</code></pre>
<pre class="r"><code>country_list[[c(&#39;countries&#39;,&#39;continents&#39;)]]</code></pre>
<pre><code>Error in country_list[[c(&quot;countries&quot;, &quot;continents&quot;)]]: subscript out of bounds</code></pre>
<p>The first form returned just a single country, which is perhaps
unexpected. It returned the first element of <code>country_list</code>,
and the second element of that atomic vector. However, the second form
returned an error, because double-bracket notation returns a vector.</p>
<p>We have gone a bit into the weeds here, but hopefully this exposition
will set off a reminder in your brain when accessing elements of lists
in the future.</p>
</div>
<div id="matrices" class="section level2">
<h2>Matrices</h2>
<p>As we saw earlier, matrices have two-dimensions. We can get the
dimensions of a matrix with the <code>dim()</code> function:</p>
<pre class="r"><code>country_matrix</code></pre>
<pre><code>     [,1]       [,2]      
[1,] &quot;Thailand&quot; &quot;Suriname&quot;
[2,] &quot;Lesotho&quot;  &quot;Canada&quot;  </code></pre>
<pre class="r"><code>dim(country_matrix)</code></pre>
<pre><code>[1] 2 2</code></pre>
<p>The result is first the number of rows, then the number of columns.
This suggests that when we want to access elements of a matrix, we need
to specify two pieces of information, the row index and the column
index. We can also use the <code>nrow()</code> and <code>ncol()</code>
functions to get the dimensions individually:</p>
<pre class="r"><code>nrow(country_matrix)</code></pre>
<pre><code>[1] 2</code></pre>
<pre class="r"><code>ncol(country_matrix)</code></pre>
<pre><code>[1] 2</code></pre>
<p>To access elements of the matrix, we use single-bracket notation, as
in:</p>
<pre class="r"><code># Return the element in the first row, second column
country_matrix[1, 2]</code></pre>
<pre><code>[1] &quot;Suriname&quot;</code></pre>
<pre class="r"><code># Return the element in the second row, second column
country_matrix[2, 2]</code></pre>
<pre><code>[1] &quot;Canada&quot;</code></pre>
<p>If we wanted to return a whole row, or a whole column, we would leave
the row or column entry blank, respectively, as in:</p>
<pre class="r"><code># Return the first row
country_matrix[1, ]</code></pre>
<pre><code>[1] &quot;Thailand&quot; &quot;Suriname&quot;</code></pre>
<pre class="r"><code># Return the second column
country_matrix[, 2]</code></pre>
<pre><code>[1] &quot;Suriname&quot; &quot;Canada&quot;  </code></pre>
</div>
<div id="data-frames" class="section level2">
<h2>Data Frames</h2>
<p>Remember that data frames group vectors together into a
two-dimensional table. As with matrices, we can use the
<code>dim()</code>, <code>nrow()</code>, and <code>ncol()</code>
functions to see the number of rows and columns of a data frame.</p>
<pre class="r"><code>country_df</code></pre>
<pre><code>         countries    continents populations
Thailand  Thailand          Asia    69950850
Lesotho    Lesotho        Africa     2108328
Suriname  Suriname South America      575990
Canada      Canada North America    38436447</code></pre>
<pre class="r"><code>dim(country_df)</code></pre>
<pre><code>[1] 4 3</code></pre>
<pre class="r"><code>nrow(country_df)</code></pre>
<pre><code>[1] 4</code></pre>
<pre class="r"><code>ncol(country_df)</code></pre>
<pre><code>[1] 3</code></pre>
<p>To access elements, rows, or columns of a data frame, we use similar
methods to matrices and lists that we saw earlier. To access a single
element, we can use row and column indices in single-bracket notation as
in:</p>
<pre class="r"><code># Return the element in the second row, third column
country_df[2, 3]</code></pre>
<pre><code>[1] 2108328</code></pre>
<p>Since the rows and columns of the data frame are named, we can also
use those instead:</p>
<pre class="r"><code># Return the element in the Lesotho row of the population column
country_df[&#39;Lesotho&#39;, &#39;populations&#39;]</code></pre>
<pre><code>[1] 2108328</code></pre>
<p>We can access rows in the same way as matrices:</p>
<pre class="r"><code># Access the third row by index
country_df[3, ]</code></pre>
<pre><code>         countries    continents populations
Suriname  Suriname South America      575990</code></pre>
<pre class="r"><code># Or by name
country_df[&#39;Suriname&#39;, ]</code></pre>
<pre><code>         countries    continents populations
Suriname  Suriname South America      575990</code></pre>
<p>And it is the same with columns:</p>
<pre class="r"><code># Access the second column by index
country_df[, 2]</code></pre>
<pre><code>[1] &quot;Asia&quot;          &quot;Africa&quot;        &quot;South America&quot; &quot;North America&quot;</code></pre>
<pre class="r"><code># By name
country_df[, &#39;continents&#39;]</code></pre>
<pre><code>[1] &quot;Asia&quot;          &quot;Africa&quot;        &quot;South America&quot; &quot;North America&quot;</code></pre>
<pre class="r"><code># Or by name with dollar sign notation
country_df$continents</code></pre>
<pre><code>[1] &quot;Asia&quot;          &quot;Africa&quot;        &quot;South America&quot; &quot;North America&quot;</code></pre>
<p>Note, the dollar-sign notation only accesses columns, it cannot be
used to access rows. We can also access multiple rows, as with:</p>
<pre class="r"><code># Second and third rows
country_df[2:3, ]</code></pre>
<pre><code>         countries    continents populations
Lesotho    Lesotho        Africa     2108328
Suriname  Suriname South America      575990</code></pre>
<pre class="r"><code>country_df[c(&#39;Lesotho&#39;, &#39;Suriname&#39;), ]</code></pre>
<pre><code>         countries    continents populations
Lesotho    Lesotho        Africa     2108328
Suriname  Suriname South America      575990</code></pre>
<p>Or columns with:</p>
<pre class="r"><code>country_df[, c(1,3)]</code></pre>
<pre><code>         countries populations
Thailand  Thailand    69950850
Lesotho    Lesotho     2108328
Suriname  Suriname      575990
Canada      Canada    38436447</code></pre>
<pre class="r"><code>country_df[, c(&#39;countries&#39;,&#39;populations&#39;)]</code></pre>
<pre><code>         countries populations
Thailand  Thailand    69950850
Lesotho    Lesotho     2108328
Suriname  Suriname      575990
Canada      Canada    38436447</code></pre>
<p>And of course, these can be combined to subset the data frame into
another data frame, as in:</p>
<pre class="r"><code>country_df[c(&#39;Thailand&#39;, &#39;Canada&#39;), c(&#39;countries&#39;, &#39;populations&#39;)]</code></pre>
<pre><code>         countries populations
Thailand  Thailand    69950850
Canada      Canada    38436447</code></pre>
<p>Note, the dollar-sign notation can only access a single column.</p>
<p>Finally, as with vectors, we can also subset rows or columns of data
frames with logical vectors. Let’s use the <code>keep_data</code> vector
to subset the rows of <code>country_df</code>:</p>
<pre class="r"><code>country_df[keep_data, ]</code></pre>
<pre><code>         countries    continents populations
Thailand  Thailand          Asia    69950850
Lesotho    Lesotho        Africa     2108328
Canada      Canada North America    38436447</code></pre>
<blockquote>
<h3 id="a-warning">A Warning</h3>
</blockquote>
<p>Could we use <code>keep_data</code> to subest the columns of
<code>country_df</code>? Why or why not?</p>
<pre class="r"><code>country_df[, keep_data]</code></pre>
<pre><code>Error in `[.data.frame`(country_df, , keep_data): undefined columns selected</code></pre>
<p>Turns out no, the <code>keep_data</code> vector has length 4, but the
<code>country_df</code> only has 3 columns. But let’s look at one more
example with logical subsetting to make ourselves aware of behavior we
may not expect, or want.</p>
<pre class="r"><code>country_df[, c(TRUE, FALSE)]</code></pre>
<pre><code>         countries populations
Thailand  Thailand    69950850
Lesotho    Lesotho     2108328
Suriname  Suriname      575990
Canada      Canada    38436447</code></pre>
<p>What has R done here? Since <code>country_df</code> has 3 columns,
and the logical vector we’re using to subset the columns only has length
2, R will <strong>repeat</strong> the vector until it reaches the number
of columns. So it’s really doing:</p>
<pre class="r"><code>country_df[, c(TRUE, FALSE, TRUE)]</code></pre>
<pre><code>         countries populations
Thailand  Thailand    69950850
Lesotho    Lesotho     2108328
Suriname  Suriname      575990
Canada      Canada    38436447</code></pre>
<p>This illustrates that code can do things unexpected, and these
unexpected things might cause errors in analysis, or downstream errors
that are hard to detect.</p>
<p>In the above examples we input a logical directly to subset rows or
columns, but we can also use a conditional statement. For example, if we
wanted to subset the rows of <code>country_df</code> to only those
countries with more than 10,000,000 inhabitants, we could do:</p>
<pre class="r"><code>country_df[country_df$populations &gt; 10000000, ]</code></pre>
<pre><code>         countries    continents populations
Thailand  Thailand          Asia    69950850
Canada      Canada North America    38436447</code></pre>
<p>What has R done here? It first looked at the code inside of the
square brackets and evaluated it to:</p>
<pre class="r"><code>country_df$populations &gt; 10000000</code></pre>
<pre><code>[1]  TRUE FALSE FALSE  TRUE</code></pre>
<p>And it used this logical vector in the same way it did when we
manually defined a vector of <code>TRUE</code> and <code>FALSE</code>
values.</p>
<p>In all the code above, we did not assign the result of any of our
commands to a new variable, so the accessing/subsetting was not
persistent. If we wanted to create a new data frame that only shows
Thailand’s and Canada’s populations, we could create a new variable and
assign it the correct value:</p>
<pre class="r"><code>subset_df &lt;- country_df[c(&#39;Thailand&#39;, &#39;Canada&#39;), c(&#39;countries&#39;, &#39;populations&#39;)]
subset_df</code></pre>
<pre><code>         countries populations
Thailand  Thailand    69950850
Canada      Canada    38436447</code></pre>
</div>
</div>
<div id="summary" class="section level1">
<h1>Summary</h1>
<p>In this lesson we learned how to access and subset vectors, lists,
matrices, and data frames using numerical indices, named indices, and
logical vectors (sometimes in the form of conditionals). Understanding
the different data types we can have, and how to manipulate them is a
crucial skill before we can analyze and plot data.</p>
</div>




</div>

<script>

// add bootstrap table styles to pandoc tables
function bootstrapStylePandocTables() {
  $('tr.odd').parent('tbody').parent('table').addClass('table table-condensed');
}
$(document).ready(function () {
  bootstrapStylePandocTables();
});


</script>

<!-- tabsets -->

<script>
$(document).ready(function () {
  window.buildTabsets("TOC");
});

$(document).ready(function () {
  $('.tabset-dropdown > .nav-tabs > li').click(function () {
    $(this).parent().toggleClass('nav-tabs-open');
  });
});
</script>

<!-- code folding -->


<!-- dynamically load mathjax for compatibility with self-contained -->
<script>
  (function () {
    var script = document.createElement("script");
    script.type = "text/javascript";
    script.src  = "https://mathjax.rstudio.com/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML";
    document.getElementsByTagName("head")[0].appendChild(script);
  })();
</script>

</body>
</html>
